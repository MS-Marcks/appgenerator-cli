{"version":3,"file":"index.js","names":["require","_inquirer","_interopRequireDefault","_path","_fs","_exec","e","__esModule","default","baseDir","path","resolve","command_create_project","inquirer","prompt","type","name","message","validate","input","root","join","toLowerCase","fs","existsSync","choices","then","answers","nameProject","console","log","red","mkdirSync","executeCommand"],"sources":["../../../src/commands/new/index.js"],"sourcesContent":["import \"../../utils/colors.js\";\r\nimport inquirer from 'inquirer';\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\n\r\nimport { executeCommand } from \"../../utils/exec.js\";\r\n\r\nconst baseDir = path.resolve(\".\");\r\n\r\nexport async function command_create_project() {\r\n    inquirer\r\n        .prompt([\r\n            {\r\n                type: 'input',\r\n                name: 'name',\r\n                message: 'Ingrese nombre del projecto:',\r\n                validate: function (input) {\r\n                    if (input) {\r\n                        const root = path.join(baseDir, input.toLowerCase());\r\n                        if (fs.existsSync(root)) {\r\n                            return \"Ya existe el proyecto\";\r\n                        }\r\n                        return true;\r\n                    } else {\r\n                        return 'Ingrese un nombre para el proyecto.';\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                type: 'list',\r\n                name: 'Framework',\r\n                message: 'Seleccione el framework que desee usar:',\r\n                choices: ['Angular', 'React js'],\r\n                validate: function (input) {\r\n                    if (input) {\r\n                        return true;\r\n                    } else {\r\n                        return 'Seleccione el framework';\r\n                    }\r\n                }\r\n            }\r\n        ])\r\n        .then(async (answers) => {\r\n\r\n            const nameProject = answers.name.toLowerCase();\r\n            const root = path.join(baseDir, nameProject);\r\n            if (fs.existsSync(root)) {\r\n                console.log(`\\n\\t${red(\"Ya existe el proyecto\")}`)\r\n                return;\r\n            }\r\n\r\n            fs.mkdirSync(root);\r\n\r\n            await executeCommand(`cd ${root} && ng new ${nameProject} --defaults --routing --style=sass --skip-install --standalone=false --skip-git`)\r\n\r\n            /*const initLen = project.length;\r\n            for (let index = 0; index < initLen; index++) {\r\n                const { name, type, content, parent } = project[index];\r\n                if (type === \"file\") {\r\n                    console.log(green(\"CREATED FILE\"), path.join(parent, name));\r\n                    fs.writeFileSync(path.join(root, parent, name), readFileModule(content).replace(/{{name}}/g, nameProject));\r\n                } else if (type === \"folder\") {\r\n                    console.log(green(\"CREATED FOLDER\"), path.join(parent, name));\r\n                    fs.mkdirSync(path.join(root, parent, name))\r\n                }\r\n            }\r\n            console.log(blue(\"## CONFIGURE WEBPACK ##\"));\r\n            const { name, type, content, parent } = (answers.bundle === \"webpack\") ? webpack : esbuild;\r\n            console.log(green(\"CREATED FILE\"), path.join(parent, name));\r\n            fs.writeFileSync(path.join(root, parent, name), readFileModule(content).replace(/{{name}}/g, nameProject));\r\n\r\n            let package_file = readJSONFile(\"package.json\", root);\r\n            if (answers.bundle === \"webpack\") {\r\n                Object.assign(package_file.scripts, JSON.parse(`{\"clean\": \"rm -rf ./dist && mkdir ./dist && rm -rf ./build && mkdir ./build\",\"webpack\": \"webpack --mode production\"}`));\r\n                Object.assign(package_file.devDependencies, webpack_modules.modules);\r\n            } else if (answers.bundle === \"esbuild\") {\r\n                Object.assign(package_file.scripts, JSON.parse(`{\"clean\": \"rm -rf ./dist && mkdir ./dist && rm -rf ./build && mkdir ./build\",\"esbuild\": \"node ./esbuild.config.js\"}`));\r\n                Object.assign(package_file.devDependencies, esbuild_modules.modules);\r\n            }\r\n\r\n            console.log(yellow(\"UPDATE FILE\"), \"package.json\");\r\n            fs.writeFileSync(path.join(root, \"package.json\"), jsonFormat(package_file));\r\n\r\n            console.log(yellow(\"UPDATE FILE\"), \"config.ms.json\");\r\n            let config_ms_file = readJSONFile(\"config.ms.json\", root);\r\n            config_ms_file.bundle = answers.bundle;\r\n            fs.writeFileSync(path.join(root, \"config.ms.json\"), jsonFormat(config_ms_file));\r\n\r\n            console.log(blue(\"## INSTALL MODULES ##\"));\r\n            await executeCommand('npm', ['install'], { cwd: root });\r\n            */\r\n        });\r\n}"],"mappings":";;;;;;AAAAA,OAAA;AACA,IAAAC,SAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,KAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,GAAA,GAAAF,sBAAA,CAAAF,OAAA;AAEA,IAAAK,KAAA,GAAAL,OAAA;AAAqD,SAAAE,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAErD,MAAMG,OAAO,GAAGC,aAAI,CAACC,OAAO,CAAC,GAAG,CAAC;AAE1B,eAAeC,sBAAsBA,CAAA,EAAG;EAC3CC,iBAAQ,CACHC,MAAM,CAAC,CACJ;IACIC,IAAI,EAAE,OAAO;IACbC,IAAI,EAAE,MAAM;IACZC,OAAO,EAAE,8BAA8B;IACvCC,QAAQ,EAAE,SAAAA,CAAUC,KAAK,EAAE;MACvB,IAAIA,KAAK,EAAE;QACP,MAAMC,IAAI,GAAGV,aAAI,CAACW,IAAI,CAACZ,OAAO,EAAEU,KAAK,CAACG,WAAW,CAAC,CAAC,CAAC;QACpD,IAAIC,WAAE,CAACC,UAAU,CAACJ,IAAI,CAAC,EAAE;UACrB,OAAO,uBAAuB;QAClC;QACA,OAAO,IAAI;MACf,CAAC,MAAM;QACH,OAAO,qCAAqC;MAChD;IACJ;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,MAAM;IACZC,IAAI,EAAE,WAAW;IACjBC,OAAO,EAAE,yCAAyC;IAClDQ,OAAO,EAAE,CAAC,SAAS,EAAE,UAAU,CAAC;IAChCP,QAAQ,EAAE,SAAAA,CAAUC,KAAK,EAAE;MACvB,IAAIA,KAAK,EAAE;QACP,OAAO,IAAI;MACf,CAAC,MAAM;QACH,OAAO,yBAAyB;MACpC;IACJ;EACJ,CAAC,CACJ,CAAC,CACDO,IAAI,CAAC,MAAOC,OAAO,IAAK;IAErB,MAAMC,WAAW,GAAGD,OAAO,CAACX,IAAI,CAACM,WAAW,CAAC,CAAC;IAC9C,MAAMF,IAAI,GAAGV,aAAI,CAACW,IAAI,CAACZ,OAAO,EAAEmB,WAAW,CAAC;IAC5C,IAAIL,WAAE,CAACC,UAAU,CAACJ,IAAI,CAAC,EAAE;MACrBS,OAAO,CAACC,GAAG,CAAC,OAAOC,GAAG,CAAC,uBAAuB,CAAC,EAAE,CAAC;MAClD;IACJ;IAEAR,WAAE,CAACS,SAAS,CAACZ,IAAI,CAAC;IAElB,MAAM,IAAAa,oBAAc,EAAC,MAAMb,IAAI,cAAcQ,WAAW,iFAAiF,CAAC;;IAE1I;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAKQ,CAAC,CAAC;AACV","ignoreList":[]}